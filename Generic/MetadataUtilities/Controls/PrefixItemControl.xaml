<PluginUserControl x:Class="MetadataUtilities.Controls.PrefixItemControl"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                   xmlns:vm="clr-namespace:MetadataUtilities.ViewModels"
                   d:DataContext="{d:DesignInstance Type=vm:PrefixItemControlViewModel}"
                   mc:Ignorable="d" 
                   d:DesignHeight="300" d:DesignWidth="300">
    <DockPanel>
        <ItemsControl ItemsSource="{Binding ItemLists}" DockPanel.Dock="Top" >
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <DockPanel>
                        <Label DockPanel.Dock="Top">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding Icon}" Style="{DynamicResource Icon}" />
                                <TextBlock Text="{Binding Name}"/>
                            </StackPanel>
                        </Label>
                        <ItemsControl ItemsSource="{Binding Items}" DockPanel.Dock="Top" Margin="0,3,0,3">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal" Margin="15,0,0,0" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Content="{Binding EditName}" Style="{StaticResource PropertyItemFeedPanelButton}"
                                            Command="{Binding RelativeSource={RelativeSource AncestorType=Grid}, Path=DataContext.SetFeatureFilterCommand}"
                                            CommandParameter="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </DockPanel>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </DockPanel>
</PluginUserControl>
